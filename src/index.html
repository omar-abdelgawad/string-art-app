<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>String Art Generator</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <h1>String Art Generator</h1>
  <canvas id="stringArtCanvas"></canvas>

  <!-- Download String Art -->
  <div id = "downloadStrinArt">
    <a id="download" download="string-art.png">
      <button type="button" onClick="downloadImage()">Download String Art</button>
    </a>
  </div>

  <!-- Image editting -->
  <input type="file" id="imageUpload" accept="image/*">
    <br>
    <canvas id="imageCanvas"></canvas>
    <br>
    <label for="zoomSlider">Zoom:</label>
    <input type="range" id="zoomSlider" min="0.1" max="2" value="1" step="0.1">
    <br>
    <label for="rotateSlider">Rotate:</label>
    <input type="range" id="rotateSlider" min="0" max="360" value="0" step="1">
    <button id="updateButton">Update Image</button>

  <!--Image section-->
  <div id="image">
    <br>
    <img id="imageInputPreview" width="150" />
    <img id="grayImageInputPreview" width="150" />
  </div>

  <!-- Controls -->
  <div id="controls">
    <form id="stringArtForm">
      <label for="numNailsInput">Number of Nails:</label>
      <input type="number" id="numNailsInput" min="10" max="500" value="269">
      <label for="nailConnections">Enter Nail Connections (e.g., 1-2,3-4):</label>
      <input type="text" id="nailConnections">
      <button type="submit">Generate String Art</button>
    </form>
  </div>

  <!-- Button to toggle the help section -->
  <button onclick="showHelp()">Help Section</button>
  <div id="helpSection">
      <h2>HELP: User Guide for String Art Generator</h2>
      <ul>
          <li>Click the "Upload Image" button to select and upload an image from your device.</li>
          <li>Drag the greyscale preview of your image to position it within the circular frame.</li>
          <li>Use the slider below the image to adjust the zoom to your preference.</li>
          <li>After adjusting the image, click on "Update Image" for the generator to start.</li>
          <li>Once the string art is generated, click "Download String Art" button to download and save your string art image to your device.</li>
      </ul>
      
      <style>
        #helpSection {
            display: none;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
        }
      </style>
      
      <script>
          function showHelp() {
              var helpSection = document.getElementById('helpSection');
              if (helpSection.style.display === 'none') {
                  helpSection.style.display = 'block'; 
              } else {
                  helpSection.style.display = 'none';
              }
          }
      </script>
  </div>

  <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" id="helpLink" target="_blank" rel="noopener noreferrer">Help</a>

  <script type="module" src="index.js"></script>

</body>

</html>